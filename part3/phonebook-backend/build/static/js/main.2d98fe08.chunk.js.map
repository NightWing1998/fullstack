{"version":3,"sources":["components/Persons.jsx","components/Forms.jsx","utils/server.jsx","components/Notification.jsx","App.js","index.js"],"names":["Person","name","number","onClick","className","Persons","persons","filter","handleDelete","map","id","includes","toLowerCase","key","toUpperCase","Filter","handleChange","value","onChange","NewNumber","newName","handleName","newNumber","handleNumber","handleSubmit","onSubmit","type","baseUrl","axios","get","then","res","data","catch","err","newPerson","post","delete","updtObject","put","message","undefined","App","useState","setPersons","setNewName","setNewNumber","setFilter","error","setError","success","setSuccess","createError","setTimeout","createSuccess","useEffect","personService","response","Notification","e","target","preventDefault","conclusion","find","savedPerson","concat","window","confirm","p","console","log","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.2d98fe08.chunk.js","sourcesContent":["import React from 'react';\n\nconst Person = ({name,number,onClick}) => (\n\t<div className=\"contact\">\n\t\t<em>{name}</em> - {number} <button onClick={onClick}>Delete</button>\n\t</div>\n)\n\nconst Persons = ({persons,filter,handleDelete}) => (\n\tpersons.map(({name,number,id})=>(\n\t\tname.includes(filter.toLowerCase())?\n\t\t\t<Person name={name} number={number} key={name} onClick={() => handleDelete(id)} />\n\t\t:\n\t\t\tname.includes(filter.toUpperCase())?\n\t\t\t\t<Person name={name} number={number} key={name} onClick={handleDelete} />\n\t\t\t:\n\t\t\t\t<div key={name} />\n\t))\n)\n\nexport default Persons;","import React from 'react';\n\nconst Filter = ({filter,handleChange}) => (\n\t<form className=\"contact\">\n\t\t<div>\n\t\t\tfilter shown with : <input value={filter} onChange={handleChange} />\n\t\t</div>\n\t</form>\n)\n\nconst NewNumber = ({newName,handleName,newNumber,handleNumber,handleSubmit}) => (\n\t<form onSubmit={handleSubmit} className=\"contact\">\n\t\t<div>\n\t\t\tname: <input value={newName} onChange={ handleName } />\n\t\t</div>\n\t\t<div>\n\t\t\tnumber: <input value={newNumber} onChange={ handleNumber } />\n\t\t</div>\n\t\t<div>\n\t\t\t<button type=\"submit\">Add</button>\n\t\t</div>\n\t</form>\n)\n\nexport {Filter,NewNumber}","import axios from 'axios';\nconst baseUrl = '/api/persons/';\n\nconst getAll = () => {\n\tconst request = axios.get(baseUrl);\n\treturn request\n\t\t\t.then(res => res.data)\n\t\t\t.catch(err => {throw err});\n}\n\nconst create = newPerson => {\n\tconst request = axios.post(baseUrl,newPerson);\n\treturn request\n\t\t\t.then(res => res.data)\n\t\t\t.catch(err => {throw err});\n}\n\nconst del = id => {\n\tconst req = axios.delete(baseUrl+id);\n\treturn req\n\t\t\t.then( res => res.data )\n\t\t\t.catch( err => {throw err} );\n}\n\nconst updateContact = updtObject => {\n\tconst req = axios.put(baseUrl+updtObject.id,updtObject);\n\treturn req\n\t\t\t.then(res => res.data)\n\t\t\t.catch(err => {throw err});\n}\n\nexport default {getAll, create, del, updateContact};","import React from 'react';\n\nconst Error = ({message}) => {\n\tif(message === null || message === undefined){\n\t\treturn <></>\n\t} else {\n\t\treturn (\n\t\t\t<div className=\"error\">\n\t\t\t\t{message}\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nconst Success = ({message}) => {\n\tif(message === null || message === undefined){\n\t\treturn <></>\n\t} else {\n\t\treturn (\n\t\t\t<div className=\"success\">\n\t\t\t\t{message}\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nexport default {Error, Success};","import React,{useState, useEffect} from 'react';\nimport './App.css';\nimport Persons from './components/Persons';\nimport {Filter,NewNumber} from './components/Forms';\nimport personService from './utils/server';\nimport Notification from './components/Notification';\n\nconst App = () => {\n\tconst [persons,setPersons] = useState([]);\n\n\tconst [newName,setNewName] = useState('');\n\tconst [newNumber,setNewNumber] = useState('');\n\tconst [filter,setFilter] = useState('');\n\n\tconst [error,setError] = useState();\n\tconst [success,setSuccess] = useState();\n\n\tconst createError = err => {\n\t\tsetError(err);\n\t\tsetTimeout(() => {\n\t\t\tsetError(null);\n\t\t},5000);\n\t}\n\n\tconst createSuccess = message => {\n\t\tsetSuccess(message);\n\t\tsetTimeout(() => {\n\t\t\tsetSuccess(null);\n\t\t},5000);\n\t}\n\n\tuseEffect( () => {\n\t\tpersonService\n\t\t.getAll()\n\t\t.then(response => {\n\t\t\tsetPersons(response);\n\t\t})\n\t\t.catch( () => createError('Error in fetching contacts from the server. Please try again later!'));\n\t} , [] );\n\n\tconst handleSubmit = (e) => {\n\t\te.preventDefault();\n\t\tlet conclusion = persons.find( ({name}) => name === newName )\n\t\tif( conclusion === undefined ){\n\t\t\tlet newPerson = {\n\t\t\t\tname : newName,\n\t\t\t\tnumber : newNumber\n\t\t\t};\n\t\t\tpersonService.create(newPerson)\n\t\t\t.then( savedPerson => {\n\t\t\t\tsetPersons(persons.concat(savedPerson) )\n\t\t\t\tcreateSuccess(`Successfully added ${newName} to phonebook`);\n\t\t\t} )\n\t\t\t.catch( err => createError(`Couldn't add ${newName} to phonebook. Error : ${err}` ) );\n\t\t} else {\n\t\t\tlet confirmation = window.confirm(`${newName} already exists in the phonebook. Do you wish to replace the old number?`);\n\t\t\tif(confirmation){\n\t\t\t\tconclusion.number = newNumber;\n\t\t\t\tpersonService.updateContact( conclusion )\n\t\t\t\t.then( res => {\n\t\t\t\t\tsetPersons( persons.filter(p =>  p.id === res.id?res:p ) );\n\t\t\t\t\tcreateSuccess(`Successfully updated ${newName} with ${newNumber}`)\n\t\t\t\t} )\n\t\t\t\t.catch( err => {createError(`${newName} does not exist in the phonebook.`);console.log(err)} );\n\t\t\t}\n\t\t};\n\t\tsetNewName('');\n\t\tsetNewNumber('');\n\t}\n\n\tconst handleDelete = id => {\n\n\t\tconst name = persons.find(p => p.id === id).name;\n\t\tlet confirmation = window.confirm(`Are you sure you want to delete ${name}`)\n\n\t\tif(confirmation){\n\t\t\tpersonService.del(id)\n\t\t\t.then(res => {\n\t\t\t\tsetPersons( persons.filter(p => p.id !== id) );\n\t\t\t\tcreateSuccess(`${name} has been deleted from the phonebook!`);\n\t\t\t})\n\t\t\t.catch( err => setError(`cannot delete ${name}. It appears that contact does not exits`) );\n\t\t}\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<h1>Phone-Book</h1>\n\t\t\t<Notification.Success message={success} />\n\t\t\t<Notification.Error message={error} />\n\t\t\t<Filter filter={filter} handleChange={(e)=>setFilter(e.target.value)} />\n\t\t\t<h1>Add new</h1>\n\t\t\t<NewNumber \n\t\t\t\thandleName={(e) => setNewName(e.target.value)} \n\t\t\t\thandleNumber={(e) => setNewNumber(e.target.value)} \n\t\t\t\thandleSubmit={handleSubmit}\n\t\t\t\tnewName={newName}\n\t\t\t\tnewNumber={newNumber}\n\t\t\t/>\n\t\t\t<h1>Numbers</h1>\n\t\t\t<Persons persons={persons} filter={filter} handleDelete={handleDelete} />\n\t\t</>\n\t)\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}
{"version":3,"sources":["components/Persons.jsx","components/Forms.jsx","utils/server.jsx","components/Notification.jsx","App.js","index.js"],"names":["Person","name","number","onClick","className","Persons","persons","filter","handleDelete","map","id","capsName","toUpperCase","tempFilter","includes","key","Filter","handleChange","value","onChange","NewNumber","newName","handleName","newNumber","handleNumber","handleSubmit","onSubmit","type","baseUrl","axios","get","then","res","data","catch","err","console","log","response","status","Error","message","newPerson","post","newPersonCopy","error","delete","updtObject","put","undefined","App","useState","setPersons","setNewName","setNewNumber","setFilter","setError","success","setSuccess","createError","setTimeout","createSuccess","useEffect","personService","Notification","e","target","preventDefault","savedPerson","window","confirm","p","concat","find","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.da1e0a8a.chunk.js","sourcesContent":["import React from 'react';\n\nconst Person = ({name,number,onClick}) => (\n\t<div className=\"contact\">\n\t\t<em>{name}</em> - {number} <button onClick={onClick}>Delete</button>\n\t</div>\n)\n\nconst Persons = ({persons,filter,handleDelete}) => (\n\tpersons.map(({name,number,id}) => {\n\t\tlet capsName = name.toUpperCase();\n\t\tlet tempFilter = filter.toUpperCase();\n\t\tif(capsName.includes(tempFilter)){\n\t\t\treturn <Person name={name} number={number} key={name} onClick={() => handleDelete(id)} />\n\t\t} else {\n\t\t\treturn <></>\n\t\t}\n\t})\n)\n\nexport default Persons;","import React from 'react';\n\nconst Filter = ({filter,handleChange}) => (\n\t<form className=\"contact\">\n\t\t<div>\n\t\t\tfilter shown with : <input value={filter} onChange={handleChange} />\n\t\t</div>\n\t</form>\n)\n\nconst NewNumber = ({newName,handleName,newNumber,handleNumber,handleSubmit}) => (\n\t<form onSubmit={handleSubmit} className=\"contact\">\n\t\t<div>\n\t\t\tname: <input value={newName} onChange={ handleName } />\n\t\t</div>\n\t\t<div>\n\t\t\tnumber: <input value={newNumber} onChange={ handleNumber } />\n\t\t</div>\n\t\t<div>\n\t\t\t<button type=\"submit\">Add</button>\n\t\t</div>\n\t</form>\n)\n\nexport {Filter,NewNumber}","import axios from 'axios';\nconst baseUrl = '/api/persons/';\n\nconst getAll = () => {\n\tconst request = axios.get(baseUrl);\n\treturn request\n\t\t\t.then(res => res.data)\n\t\t\t.catch(err => {\n\t\t\t\tconsole.log(err);\n\t\t\t\tif (err.response.status === 500) {\n\t\t\t\t\tthrow new Error(\"An internal server error has occured\");\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tthrow new Error(err.message);\n\t\t\t\t}\n\t\t\t});\n}\n\nconst create = newPerson => {\n\tconst request = axios.post(baseUrl,newPerson);\n\treturn request\n\t\t\t.then(res => res.data)\n\t\t\t.catch(err => {\n\t\t\t\tif(err.response.status === 307){\n\t\t\t\t\t// THIS INDICATES THAT USER ALREADY EXISTS AND RESPONSE.DATA CONTAINS THE ID OF THAT USER\n\t\t\t\t\tlet newPersonCopy = {...newPerson};\n\t\t\t\t\tnewPersonCopy.id = err.response.data.id;\n\t\t\t\t\tnewPersonCopy.status = 307;\n\t\t\t\t\treturn newPersonCopy;\n\t\t\t\t}\n\t\t\t\tconsole.log(err);\n\t\t\t\tif(err.response.status === 404 ){\n\t\t\t\t\tthrow new Error(err.response.data.error)\n\t\t\t\t} else if (err.response.status === 500){\n\t\t\t\t\tthrow new Error(\"An internal server error has occured\");\n\t\t\t\t} else {\n\t\t\t\t\tthrow new Error(err.message);\n\t\t\t\t}\n\t\t\t});\n}\n\nconst del = (id,name) => {\n\tconst req = axios.delete(baseUrl+id);\n\treturn req\n\t\t\t.then( res => res.data )\n\t\t\t.catch( err => {\n\t\t\t\tconsole.log(err);\n\t\t\t\tif(err.response.status === 404){\n\t\t\t\t\tthrow new Error(`Cannot delete ${name}. It appears that contact does not exits`)\n\t\t\t\t} \n\t\t\t\telse if(err.response.status === 500){\n\t\t\t\t\tthrow new Error(\"An internal server error has occured\");\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tthrow new Error(err.message);\n\t\t\t\t}\n\t\t\t} );\n}\n\nconst updateContact = updtObject => {\n\tconst req = axios.put(baseUrl+updtObject.id,updtObject);\n\treturn req\n\t\t\t.then(res => res.data)\n\t\t\t.catch(err => {\n\t\t\t\tconsole.log(err);\n\t\t\t\tif(err.response.status === 404){\n\t\t\t\t\tthrow new Error(err.response.data.error);\n\t\t\t\t} else if (err.response.status === 500) {\n\t\t\t\t\tthrow new Error(\"An internal server error has occured\");\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tthrow new Error(err.message);\n\t\t\t\t}\n\t\t\t});\n}\n\nexport default {getAll, create, del, updateContact};","import React from 'react';\n\nconst Error = ({message}) => {\n\tif(message === null || message === undefined){\n\t\treturn <></>\n\t} else {\n\t\treturn (\n\t\t\t<div className=\"error\">\n\t\t\t\t{message}\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nconst Success = ({message}) => {\n\tif(message === null || message === undefined){\n\t\treturn <></>\n\t} else {\n\t\treturn (\n\t\t\t<div className=\"success\">\n\t\t\t\t{message}\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nexport default {Error, Success};","import React,{useState, useEffect} from 'react';\nimport './App.css';\nimport Persons from './components/Persons';\nimport {Filter,NewNumber} from './components/Forms';\nimport personService from './utils/server';\nimport Notification from './components/Notification';\n\nconst App = () => {\n\tconst [persons,setPersons] = useState([]);\n\n\tconst [newName,setNewName] = useState('');\n\tconst [newNumber,setNewNumber] = useState('');\n\tconst [filter,setFilter] = useState('');\n\n\tconst [error,setError] = useState();\n\tconst [success,setSuccess] = useState();\n\n\tconst createError = err => {\n\t\tsetError(err);\n\t\tsetTimeout(() => {\n\t\t\tsetError(null);\n\t\t},5000);\n\t}\n\n\tconst createSuccess = message => {\n\t\tsetSuccess(message);\n\t\tsetTimeout(() => {\n\t\t\tsetSuccess(null);\n\t\t},5000);\n\t}\n\n\tuseEffect( () => {\n\t\tpersonService\n\t\t.getAll()\n\t\t.then(response => {\n\t\t\tsetPersons(response);\n\t\t})\n\t\t.catch(err => createError(err.message));\n\t} , [] );\n\n\tconst handleSubmit = (e) => {\n\t\te.preventDefault();\n\t\t// let conclusion = persons.find( ({name}) => name === newName )\n\t\tlet newPerson = {\n\t\t\tname: newName,\n\t\t\tnumber: newNumber\n\t\t};\n\t\tpersonService.create(newPerson)\n\t\t\t.then(savedPerson => {\n\t\t\t\tif(savedPerson.status && savedPerson.status === 307 && savedPerson.id){\n\t\t\t\t\tlet confirmation = window.confirm(`${newName} already exists in the phonebook. Do you wish to replace the old number?`);\n\t\t\t\t\tif (confirmation) {\n\t\t\t\t\t\tnewPerson.id = savedPerson.id;\n\t\t\t\t\t\tpersonService.updateContact(newPerson)\n\t\t\t\t\t\t\t.then(res => {\n\t\t\t\t\t\t\t\tsetPersons(persons.filter(p => p.id === res.id ? res : p));\n\t\t\t\t\t\t\t\tcreateSuccess(`Successfully updated ${newName} with ${newNumber}`)\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.catch(err => {\n\t\t\t\t\t\t\t\tcreateError(err.message);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tsetPersons(persons.concat(savedPerson))\n\t\t\t\t\tcreateSuccess(`Successfully added ${newName} to phonebook`);\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch(err => createError(err.message));\n\t\tsetNewName('');\n\t\tsetNewNumber('');\n\t}\n\n\tconst handleDelete = id => {\n\n\t\tconst name = persons.find(p => p.id === id).name;\n\t\tlet confirmation = window.confirm(`Are you sure you want to delete ${name}`)\n\n\t\tif(confirmation){\n\t\t\tpersonService.del(id,name)\n\t\t\t.then(res => {\n\t\t\t\tsetPersons( persons.filter(p => p.id !== id) );\n\t\t\t\tcreateSuccess(`${name} has been deleted from the phonebook!`);\n\t\t\t})\n\t\t\t.catch( err => setError(err.message) );\n\t\t}\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<h1>Phone-Book</h1>\n\t\t\t<Notification.Success message={success} />\n\t\t\t<Notification.Error message={error} />\n\t\t\t<Filter filter={filter} handleChange={(e)=>setFilter(e.target.value)} />\n\t\t\t<h1>Add new</h1>\n\t\t\t<NewNumber \n\t\t\t\thandleName={(e) => setNewName(e.target.value)} \n\t\t\t\thandleNumber={(e) => setNewNumber(e.target.value)} \n\t\t\t\thandleSubmit={handleSubmit}\n\t\t\t\tnewName={newName}\n\t\t\t\tnewNumber={newNumber}\n\t\t\t/>\n\t\t\t<h1>Numbers</h1>\n\t\t\t<Persons persons={persons} filter={filter} handleDelete={handleDelete} />\n\t\t</>\n\t)\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}